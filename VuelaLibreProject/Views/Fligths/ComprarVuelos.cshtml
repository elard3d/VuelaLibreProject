@{
    ViewData["Title"] = "Comprar Vuelo";
}

@{
    ViewData["Title"] = "Crear Vuelo";
    var vuelo = (Vuelos)Model;
    var departamentos = ((List<Departamentos>)ViewBag.Departamentos);
    var aerolineas = ((List<Aerolineas>)ViewBag.Aerolineas);
    var pasajesComprados = ((List<Pasaje>)ViewBag.Pasajes);
}

<form action="comprarVuelos" method="post" class="was-validated">

    @for (int i = 0; i < ViewBag.NumeroPajases; i++)
    {


        <div class="tm-section tm-bg-img" id="tm-section-1" style="padding:5%">

            <div class="tm-bg-white">

                <div class="container ie-h-align-center-fix" style="padding:5%">



                    <div class="row">

                        <div class="col-12 col-md-8" style="border-style:solid">

                            <div class="container" style="padding:3%; text-align:center">

                                <h3>DATOS DEL PASASJE</h3>

                            </div>
                            <input name="id" value="@vuelo.idVuelo" />

                            <div class="row" style=" font-size: 200%">
                                <div class="col-6 col-md-4" style="padding: 3%;">
                                    <div style="font-size: 80%">Origen: </div>
                                    <b>@vuelo.departamentoOrigen.nombreDepartamentos </b>
                                    <i class="fa fas fa-plane-departure tm-color-primary tm-margin-b-20"></i>
                                </div>
                                <div class="col-6 col-md-4" style="padding: 3%;">
                                    <div style="font-size: 80%">Destino: </div>
                                    <b>@vuelo.departamentoDestino.nombreDepartamentos </b>
                                    <i class="fa fas fa-plane-arrival tm-color-primary tm-margin-b-20"></i>
                                </div>
                                <div class="col-6 col-md-4" style="padding: 3%;">
                                    <div style="font-size: 80%">Aerolinea: </div>
                                    <b>@vuelo.aerolineas.nombreAerolinea </b>
                                    <i class="fa fas fa-plane tm-color-primary tm-margin-b-20"></i>
                                </div>
                            </div>

                            <div class="row" style=" font-size: 200%">
                                <div class="col-6 col-md-4" style="padding: 3%;">
                                    <div style="font-size: 80%">Fecha/Hr. Salida: </div>
                                    <b>@vuelo.fechaHoraVuelo</b>
                                    <i class="fa fas fa-plane-departure tm-color-primary tm-margin-b-20"></i>
                                </div>
                                <div class="col-6 col-md-4" style="padding: 3%;">
                                    <div style="font-size: 80%">Fecha/Hr. Llegada: </div>
                                    <b>CALCULAR</b>
                                    <i class="fa fas fa-plane-arrival tm-color-primary tm-margin-b-20"></i>
                                </div>
                                <div class="col-6 col-md-4" style="padding: 3%;">
                                    <div style="font-size: 80%">Precio: </div>
                                    <b>$ @vuelo.precioVuelo</b>
                                    <i class="fa fas fa-money-bill tm-color-primary tm-margin-b-20"></i>
                                </div>
                            </div>

                        </div>

                        <div class="col-6 col-md-4" style="border-style:solid; padding:2%; font-size:90%">

                            <div class="container" style="padding:3%; text-align:center">

                                <h3>INGRESA TUS DATOS</h3>

                            </div>

                            <div class="form-group">
                                <label for="nombre">DNI:</label>
                                <input type="text" class="form-control" id="uname" placeholder="Numero de DNI" name="pasajes[@i].dni" required>
                                <div class="valid-feedback">Valido.</div>
                                <div class="invalid-feedback">Porfavor Llenar esta casilla.</div>
                            </div>
                            <div class="form-group">
                                <label for="nombre">Nombres:</label>
                                <input type="text" class="form-control" id="uname" placeholder="Nombres" name="pasajes[@i].nombres" required>
                                <div class="valid-feedback">Valido.</div>
                                <div class="invalid-feedback">Porfavor Llenar esta casilla.</div>
                            </div>
                            <div class="form-group">
                                <label for="pwd">Apellidos:</label>
                                <input type="text" class="form-control" id="apellido" placeholder="Apellidos" name="pasajes[@i].apellidos" required>
                                <div class="valid-feedback">Valido.</div>
                                <div class="invalid-feedback">Porfavor Llenar esta casilla.</div>
                            </div>

                            <div class="form-group">

                                <label>Numero de Asiento: </label>
                                <select name="pasajes[@i].numAsiento" class="form-control">

                                    @for (int j = 0; j < vuelo.asientos; j++)
                                    {
                                        @if (pasajesComprados.Find(o => o.numAsiento == j) == null) { 
                                            <option value="@j">@j</option>
                                        }
                                    }

                                </select>

                            </div>

                        </div>
                    </div>
                    <div class="row float-right" style="padding:2%">

                        <div class="col">

                        </div>
                    </div>







                    <div class="container "></div>


                </div>

            </div>
        </div>
    }

    <button type="submit" class="btn btn-primary tm-btn-primary">comprar</button>

</form>